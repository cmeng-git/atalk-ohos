<?xml version="1.0" encoding="utf-8"?>
<DirectionalLayout xmlns:ohos="http://schemas.huawei.com/res/ohos"
    ohos:id="$+id:chatSessionView"
    ohos:width="match_parent"
    ohos:height="$float:contact_list_row_height"
    ohos:background_element="$graphic:list_selector_state"
    ohos:start_padding="5vp"
    ohos:end_padding="5vp">

    <DependentLayout
        ohos:id="$+id:avatarLayout"
        ohos:width="$float:contact_list_avatar_width"
        ohos:height="match_parent"
        ohos:padding="5vp">

    <Image
        ohos:id="$+id:avatar"
        ohos:width="50vp"
        ohos:height="50vp"
        ohos:scale_mode="center"
        ohos:image_src="$media:avatar" />

    <org.atalk.ohos.gui.widgets.UnreadCountCustomView
        ohos:id="$+id:unread_count"
        ohos:width="$float:IconSize"
        ohos:height="$float:IconSize"
        ohos:align_parent_bottom="true"
        ohos:align_parent_end="true"
        ohos:alignment="vertical_center" />
    </DependentLayout>

    <DirectionalLayout
        ohos:width="0vp"
        ohos:weight="1"
        ohos:height="match_parent"
        ohos:orientation="vertical"
        ohos:layout_alignment="bottom"
        ohos:bottom_padding="10vp"
        ohos:start_padding="5vp" >

        <Text
            ohos:id="$+id:entityJid"
            ohos:text_size="$float:medium_font"
            ohos:width="match_parent"
            ohos:height="match_content"
            ohos:truncation_mode="ellipsis_at_end"
            ohos:max_text_lines="1"
            ohos:text="Displayname@server.com"
            ohos:text_color="$color:textColorBlack" />

        <DirectionalLayout
            ohos:width="match_parent"
            ohos:height="match_content"
            ohos:orientation="horizontal">

            <Image
                ohos:id="$+id:chatType"
                ohos:width="20vp"
                ohos:height="20vp"
                ohos:image_src="$media:encryption_omemo" />

            <Text
                ohos:id="$+id:chatMessage"
                ohos:text_size="$float:small_font"
	            ohos:width="match_parent"
                ohos:height="match_content"
                ohos:text_alignment="start|bottom"
                ohos:left_margin="3vp"
                ohos:truncation_mode="ellipsis_at_end"
	            ohos:max_text_lines="1"
           		ohos:text="Some long status message"
                ohos:text_color="$color:textColorBlack" />
        </DirectionalLayout>
    </DirectionalLayout>

    <DirectionalLayout
        ohos:id="$+id:callButtonLayout"
        ohos:width="match_content"
        ohos:height="match_parent"
        ohos:alignment="vertical_center"
        ohos:orientation="horizontal">

        <Image
            ohos:id="$+id:buttonSeparatorView"
            ohos:width="1vp"
            ohos:height="40vp"
            ohos:scale_mode="center"
            ohos:image_src="$media:contact_list_v_separator_dark" />

        <Button
            ohos:id="$+id:callButton"
            ohos:background_element="$graphic:list_selector_state"
            ohos:width="match_content"
            ohos:height="match_parent"
            ohos:scale_mode="center"
            ohos:padding="10vp"
            ohos:component_description="$string:call_audio"
            ohos:focusable="focus_adaptable"
            ohos:min_height="$float:min_button_height"
            ohos:min_width="$float:min_button_width"
            ohos:element_start="$media:contact_call" />

        <Image
            ohos:id="$+id:buttonSeparatorView2"
            ohos:width="1vp"
            ohos:height="40vp"
            ohos:scale_mode="center"
            ohos:image_src="$media:contact_list_v_separator_dark" />

        <Button
            ohos:id="$+id:callVideoButton"
            ohos:background_element="$graphic:list_selector_state"
            ohos:width="match_content"
            ohos:height="match_parent"
            ohos:scale_mode="center"
            ohos:padding="10vp"
            ohos:clickable="true"
            ohos:component_description="$string:call_video"
            ohos:focusable="focus_adaptable"
            ohos:min_height="$float:min_button_height"
            ohos:min_width="$float:min_button_width"
            ohos:element_start="$media:contact_call_video" />

    </DirectionalLayout>
</DirectionalLayout>